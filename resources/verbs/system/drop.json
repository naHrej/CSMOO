{
  "name": "drop",
  "aliases": "",
  "pattern": "*",
  "description": "Drop an item from inventory",
  "code": [
    "// Drop command - drop an item from inventory",
    "if (Args.Count == 0)",
    "{",
    "    notify(Player, \"Drop what?\");",
    "    return;",
    "}",
    "",
    "var itemName = string.Join(\" \", Args);",
    "var item = Builtins.FindItemInInventory(itemName);",
    "",
    "if (item == null)",
    "{",
    "    notify(Player, \"You don't have that item.\");",
    "    return;",
    "}",
    "",
    "var currentLocation = Player.location;",
    "if (currentLocation == null)",
    "{",
    "    notify(Player, \"You are nowhere - you can't drop anything.\");",
    "    return;",
    "}",
    "",
    "// Move item to current room",
    "if (Builtins.MoveObject(item.Id, currentLocation))",
    "{",
    "    var itemDesc = item.shortDescription ?? item.name ?? \"something\";",
    "    notify(Player, $\"You drop {itemDesc}.\");",
    "}",
    "else",
    "{",
    "    notify(Player, \"You can't drop that.\");",
    "}"
  ]
}
