{
  "name": "list",
  "aliases": "@list",
  "pattern": "*",
  "description": "Show verb code (@list <object>:<verb>)",
  "code": [
    "// List command - show verb code (@list <object>:<verb>)",
    "if (Args.Count != 1)",
    "{",
    "    Notify(Player, \"Usage: list <object>:<verb>\");",
    "    return;",
    "}",
    "",
    "var verbSpec = Args[0];",
    "if (!verbSpec.Contains(':'))",
    "{",
    "    Notify(Player, \"Verb specification must be in format <object>:<verb>\");",
    "    return;",
    "}",
    "",
    "// Split from the right to handle class:Object:verb syntax",
    "var lastColonIndex = verbSpec.LastIndexOf(':');",
    "var objectName = verbSpec.Substring(0, lastColonIndex);",
    "var verbName = verbSpec.Substring(lastColonIndex + 1);",
    "",
    "var verbInfo = GetVerbInfo(objectName, verbName);",
    "if (verbInfo == null)",
    "{",
    "    Notify(Player, $\"Object '{objectName}' or verb '{verbName}' not found.\");",
    "    return;",
    "}",
    "",
    "// Display verb information",
    "Notify(Player, $\"=== {verbInfo.ObjectName}:{verbInfo.VerbName} ===\");",
    "if (!string.IsNullOrEmpty(verbInfo.Aliases))",
    "    Notify(Player, $\"Aliases: {verbInfo.Aliases}\");",
    "if (!string.IsNullOrEmpty(verbInfo.Pattern))",
    "    Notify(Player, $\"Pattern: {verbInfo.Pattern}\");",
    "if (!string.IsNullOrEmpty(verbInfo.Description))",
    "    Notify(Player, $\"Description: {verbInfo.Description}\");",
    "",
    "Notify(Player, $\"Created by: {verbInfo.CreatedBy} on {verbInfo.CreatedAt:yyyy-MM-dd HH:mm}\");",
    "Notify(Player, \"Code:\");",
    "",
    "if (verbInfo.CodeLines.Length == 0)",
    "{",
    "    Notify(Player, \"  (no code)\");",
    "}",
    "else",
    "{",
    "    for (int i = 0; i < verbInfo.CodeLines.Length; i++)",
    "    {",
    "        Notify(Player, $\"{i + 1,3}: {verbInfo.CodeLines[i]}\");",
    "    }",
    "}"
  ]
}
