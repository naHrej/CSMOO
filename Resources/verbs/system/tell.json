{
  "name": "tell",
  "aliases": "",
  "pattern": "* *",
  "description": "Send private message to another player",
  "code": [
    "// Tell command - send private message to another player",
    "if (Args.Count < 2)",
    "{",
    "    notify(player, \"Usage: tell <player> <message>\");",
    "    return;",
    "}",
    "",
    "var targetPlayerName = Args[0];",
    "var messageArgs = new List<string>();",
    "for (int i = 1; i < Args.Count; i++)",
    "{",
    "    messageArgs.Add(Args[i]);",
    "}",
    "var message = string.Join(\" \", messageArgs);",
    "",
    "var targetPlayer = Helpers.FindPlayerByName(targetPlayerName);",
    "if (targetPlayer == null)",
    "{",
    "    notify(player, $\"Player '{targetPlayerName}' is not online.\");",
    "    return;",
    "}",
    "",
    "if (targetPlayer == player)",
    "{",
    "    notify(player, \"You can't tell yourself.\");",
    "    return;",
    "}",
    "",
    "// Send the message",
    "Helpers.SendToPlayer($\"{player.Name} tells you, \\\"{message}\\\"\", targetPlayer);",
    "notify(player, $\"You tell {targetPlayer.Name}, \\\"{message}\\\"\");"
  ]
}
