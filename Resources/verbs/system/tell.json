{
  "name": "tell",
  "aliases": "",
  "pattern": "* *",
  "description": "Send private message to another player",
  "code": [
    "// Tell command - send private message to another player",
    "if (Args.Count < 2)",
    "{",
    "    Builtins.Notify(Player, \"Usage: tell <player> <message>\");",
    "    return;",
    "}",
    "",
    "var targetPlayerName = Args[0];",
    "var messageArgs = new List<string>();",
    "for (int i = 1; i < Args.Count; i++)",
    "{",
    "    messageArgs.Add(Args[i]);",
    "}",
    "var message = string.Join(\" \", messageArgs);",
    "",
    "var targetPlayer = Builtins.FindPlayer(targetPlayerName);",
    "if (targetPlayer == null)",
    "{",
    "    Builtins.Notify(Player, $\"Player '{targetPlayerName}' is not online.\");",
    "    return;",
    "}",
    "",
    "if (targetPlayer.Id == Player.Id)",
    "{",
    "    Builtins.Notify(Player, \"You can't tell yourself.\");",
    "    return;",
    "}",
    "",
    "// Send the message",
    "Builtins.Notify(targetPlayer, $\"{Builtins.GetObjectName(Player.Id)} tells you, \\\"{message}\\\"\");",
    "Builtins.Notify(Player, $\"You tell {targetPlayer.Name}, \\\"{message}\\\"\");"
  ]
}
