{
  "name": "drop",
  "aliases": "",
  "pattern": "*",
  "description": "Drop an item from inventory",
  "code": [
    "// Drop command - drop an item from inventory",
    "if (Args.Count == 0)",
    "{",
    "    notify(player, \"Drop what?\");",
    "    return;",
    "}",
    "",
    "var itemName = string.Join(\" \", Args);",
    "var item = Helpers.FindItemInInventory(itemName);",
    "",
    "if (item == null)",
    "{",
    "    notify(player, \"You don't have that item.\");",
    "    return;",
    "}",
    "",
    "var currentLocation = here;",
    "if (currentLocation == null)",
    "{",
    "    notify(player, \"You are nowhere - you can't drop anything.\");",
    "    return;",
    "}",
    "",
    "// Move item to current room",
    "if (Helpers.MoveObject(item, currentLocation))",
    "{",
    "    var itemDesc = item.shortDescription?.AsString ?? \"something\";",
    "    notify(player, $\"You drop {itemDesc}.\");",
    "}",
    "else",
    "{",
    "    notify(player, \"You can't drop that.\");",
    "}"
  ]
}
