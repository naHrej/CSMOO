{
  "name": "down",
  "aliases": "d",
  "pattern": "",
  "description": "Move down",
  "code": [
    "// Direction shortcut for down",
    "var currentLocation = here;",
    "if (currentLocation == null)",
    "{",
    "    notify(player, \"You are not in any location.\");",
    "    return;",
    "}",
    "",
    "var exits = Helpers.GetExitsFromRoom(currentLocation);",
    "var exit = exits.FirstOrDefault(e => ",
    "    e.direction?.AsString?.ToLower() == \"down\");",
    "",
    "if (exit == null)",
    "{",
    "    notify(player, \"There is no exit down.\");",
    "    return;",
    "}",
    "",
    "var destination = exit.destination?.AsString;",
    "if (destination == null)",
    "{",
    "    notify(player, \"That exit doesn't lead anywhere.\");",
    "    return;",
    "}",
    "",
    "// Move the player",
    "if (Helpers.MoveObject(player, destination))",
    "{",
    "    player.Location = destination;",
    "    GameDatabase.Instance.Players.Update(player);",
    "    notify(player, \"You go down.\");",
    "    Helpers.ShowRoom();",
    "}",
    "else",
    "{",
    "    notify(player, \"You can't go that way.\");",
    "}"
  ]
}
