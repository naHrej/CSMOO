{
  "name": "admin-fix-permissions",
  "aliases": "",
  "description": "One-time fix to update admin permissions to new flag system",
  "code": [
    "// One-time fix for admin permissions",
    "var admin = CSMOO.Server.Database.PlayerManager.FindPlayerByName(\"admin\");",
    "if (admin != null)",
    "{",
    "    Builtins.Notify(player, \"Found admin player, updating permissions...\");",
    "    CSMOO.Server.Database.PermissionManager.InitializeAdminPermissions(admin);",
    "    var flags = CSMOO.Server.Database.PermissionManager.GetFlagsString(admin);",
    "    Builtins.Notify(player, $\"Admin permissions updated. Flags: {flags}\");",
    "}",
    "else",
    "{",
    "    Builtins.Notify(player, \"Admin player not found!\");",
    "}"
  ]
}
